(this["webpackJsonpclear-the-fridge-v2"]=this["webpackJsonpclear-the-fridge-v2"]||[]).push([[0],{18:function(e,t,a){e.exports=a(54)},23:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),o=(a(23),a(12)),i=a(13),s=a(17),u=a(15),m=a(16),d=a(3),g=a(4),h=a(5),f=a(14),p=a.n(f),v=[{name:"Vegan",value:"vegan"},{name:"Vegetarian",value:"vegetarian"},{name:"Sugar Conscious",value:"sugar-conscious"},{name:"Peanut Free",value:"peanut-free"},{name:"Tree-nut Free",value:"tree-nut-free"},{name:"Alcohol Free",value:"alcohol-free"}],x=function(e){var t=e.callback,a=Object(n.useState)(void 0),l=Object(h.a)(a,2),c=l[0],o=l[1],i=function(e){return o(Object(g.a)(Object(g.a)({},c),{},Object(d.a)({},e.currentTarget.name,e.currentTarget.value)))},s=Object(n.useReducer)((function(e,t){var a=t.type,n=t.value;switch(a){case"add":return[].concat(Object(m.a)(e),[n]);case"remove":return p()(e,n);default:return e}}),[]),u=Object(h.a)(s,2),f=u[0],x=u[1];function b(e){var t=f.map((function(e){return"health=".concat(e,"&")})).toString(),a={app_key:"112f88722937558772de9b30b52b63ed",app_id:"c8b6b757"};return""===e.textInput&&void 0===e.textInput||(a.q=e.textInput),""!==e.dietInput&&void 0!==e.dietInput&&(a.diet=e.dietInput),"https://api.edamam.com/search?"+t+Object.keys(a).map((function(e){return"".concat(e,"=").concat(a[e])})).join("&")}return r.a.createElement("div",{className:"max-w-lg flex p-6 bg-gray-100 mt-10 rounded-lg shadow-md mx-auto"},r.a.createElement("div",{className:"pt-1"},r.a.createElement("h1",{className:"text-xl text-blue-700 leading-tight"},"What do you want to use up?"),r.a.createElement("p",{className:"text-base text-gray-700 leading-normal"},"Type in the ingredients you're looking to clear out from your kitchen, select a diet and click search."),r.a.createElement("form",{className:"mx-auto"},r.a.createElement("div",{className:"flex flex-row justify-between"},r.a.createElement("input",{className:"rounded-sm border border-gray-600",name:"textInput",type:"text",placeholder:"Chicken, rice",id:"search-term",required:!0,onChange:i}),r.a.createElement("select",{className:"rounded-sm border-gray-600 border",name:"dietInput",onChange:i},r.a.createElement("option",{value:"",defaultValue:!0},"Diet"),r.a.createElement("option",{value:"balanced"},"Balanced"),r.a.createElement("option",{value:"high-protein"},"High-Protein"),r.a.createElement("option",{value:"low-carb"},"Low-Carb"),r.a.createElement("option",{value:"low-fat"},"Low-Fat")),r.a.createElement("input",{type:"submit",value:"Search",className:"rounded-sm border-gray-600 border",onClick:function(e){return e.preventDefault(),void 0===c||void 0===c.textInput||""===c.textInput?(alert("You need to enter something into the text field."),null):(function(e){fetch(e).then((function(e){return e.json()})).then((function(e){return t(e)}))}(b(c)),b(c))}})),r.a.createElement("fieldset",null,r.a.createElement("legend",{className:"text-lg"},"Optional health choices:"),r.a.createElement("div",{className:"grid grid-flow-col grid-cols-2 grid-rows-3"},v.map((function(e){return r.a.createElement("div",{className:"inline",key:e.value},r.a.createElement("input",{className:"mx-1",type:"checkbox",name:e.value,value:e.value,id:e.value,onChange:function(){return x({type:f.includes(e.value)?"remove":"add",value:e.value})}}),r.a.createElement("label",{className:"text-base text-gray-700 leading-normal",htmlFor:e.value},e.name))})))))))};var b=function(e){var t=0,a=0;t=window.screen.width<639?4:9,a=window.screen.width<639?4:5;var n=e.ingredientLines.length-a,l=e.ingredientLines.splice(0,t);return r.a.createElement("div",{className:"group flip h-64 min-w-full max-w-lg my-6 mx-auto"},r.a.createElement("div",{className:"flip-content min-h-full h-64 min-w-full max-w-lg relative group-hover:transformation rounded-lg shadow-md"},r.a.createElement("div",{className:"flip-card-front absolute min-h-full h-64 min-w-full max-w-lg bg-gray-100 rounded-lg shadow-md flex flex-row"},r.a.createElement("img",{className:"h-64 rounded-lg",src:e.image,alt:e.label}),r.a.createElement("ul",{className:"grid sm:grid-cols-1 grid-cols-2 grid-rows-5 gap-1 p-1 grid-flow-row max-w-md"},l.map((function(e,t){return r.a.createElement("li",{className:"text-sm text-left row-span-1",key:t},function(e){return e.length<25?e:e.slice(0,25).concat("...")}(e))})),e.ingredientLines.length>=t?r.a.createElement("li",{className:"text-sm text-left row-span-1"},"and ",n," more ingredients..."):null)),r.a.createElement("div",{className:"flip-card-back absolute min-h-full min-w-full max-w-lg bg-gray-100 rounded-lg shadow-md"},r.a.createElement("h1",{className:"text-xl text-blue-700 leading-tight"},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.label)),r.a.createElement("h3",null,"TODO: Map nutrition facts here"))))};var w=function(e){var t=e.recipes;return 0===e.length?r.a.createElement("div",{className:"max-w-lg mx-auto flex p-6 bg-gray-100 mt-10 rounded-lg shadow-md"},r.a.createElement("h1",{className:"text-2xl text-blue-700 leading-tight"},"Sorry. No results were found. :("),r.a.createElement("h2",{className:"text-lg text-blue-700 leading-tight"},"Try changing your search terms or diet.")):r.a.createElement("div",{className:"max-w-lg mx-auto flex flex-col mt-10"},t.map((function(e,t){var a=e.recipe;return r.a.createElement(b,Object.assign({key:t},a))})))},E=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).searchResults=function(e){n.setState({searchResults:e})},n.state={searchResults:null},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"max-w-lg mx-auto flex p-6 bg-gray-100 mt-10 rounded-lg shadow-md"},r.a.createElement("div",{className:"pt-1"},r.a.createElement("h1",{className:"text-2xl text-blue-700 leading-tight"},"Clear the Fridge"),r.a.createElement("p",{className:"text-base text-gray-700 leading-normal"},"A project to help you get the most of whatever you have in your fridge or pantry"))),r.a.createElement(x,{callback:this.searchResults}),null!==this.state.searchResults?r.a.createElement(w,{recipes:this.state.searchResults.hits}):null)}}]),a}(r.a.Component);var y=function(){return r.a.createElement(E,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.0611d0f4.chunk.js.map